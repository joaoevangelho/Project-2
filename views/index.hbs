{{!-- <h1>{{title}}</h1> --}}
{{!-- <p>Welcome {{user.name}}</p> --}}

<div class="div-map map-welcome-page" id="map"></div>

<ul>
  {{#each allTeachers}}
  <li>
  <a href="/allTeachers/{{this._id}}">{{this.name}}</a>
  </li>
  <li>
    {{location.coordinates.[0]}}
    {{location.coordinates.[1]}}
  </li>
  {{/each}}
</ul>

<script>
  const positions = [
    {{#each allTeachers}}
    {
      lat: {{this.location.coordinates.[1]}},
      lng: {{this.location.coordinates.[0]}}
    },
    {{/each}}
  ];

  function initMap () {
    const $mapContainer = document.getElementById('map');

    if ($mapContainer) {
      const map = new window.google.maps.Map($mapContainer, {
        center: { lat: 38.9, lng: -9.1 },
        zoom: 7
      });

      for (let position of positions) {
        const marker = new window.google.maps.Marker({
          position,
          map
        });
      }
    }
  }
</script>
